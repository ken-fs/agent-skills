# Feynman Skill - 完整目录结构

```
feynman/
│
├── 📄 SKILL.md                                 # Skill 主配置文件
├── 📄 README.md                                # 📖 项目总览和快速开始指南
├── 📄 OPTIMIZATION_SUMMARY.md                  # 📋 优化总结文档
│
├── 📁 commands/                                # 命令定义目录
│   ├── feynman.md                              # ✨ Feynman 完整学习流程（含飞书集成）
│   ├── explain.md                              # 概念解释命令
│   └── simplify.md                             # 简化解释命令
│
├── 📁 scripts/                                 # 脚本工具目录
│   │
│   ├── 💾 save_to_feishu.py                   # ✨ 核心功能：保存文章到飞书
│   │   └── 功能：
│   │       • save_article_to_feishu(title, content)
│   │       • save_from_file(file_path)
│   │       • 命令行：--test / --file
│   │
│   ├── 🔧 check_config.py                     # ✨ 配置验证工具
│   │   └── 功能：
│   │       • 5 步全面检查
│   │       • 环境变量验证
│   │       • 权限检查
│   │       • 字段验证
│   │       • 写入测试
│   │
│   ├── 📚 example_usage.py                    # ✨ 使用示例集合
│   │   └── 包含示例：
│   │       • 基本用法
│   │       • Feynman 笔记格式
│   │       • Markdown 文章
│   │       • 批量保存
│   │
│   ├── ⚙️ setup.ps1                           # ✨ PowerShell 配置向导
│   │   └── 功能：
│   │       • 交互式配置
│   │       • 环境变量设置
│   │       • 自动验证
│   │       • 彩色输出
│   │
│   ├── ⚙️ setup.bat                           # ✨ 批处理配置向导
│   │   └── 功能：
│   │       • 兼容旧版 Windows
│   │       • 基本配置功能
│   │
│   └── 🗑️ feishu_bitable.py                   # ⚠️ 已废弃（旧版本，8 字段）
│
└── 📁 references/                              # 参考文档目录
    │
    ├── 📖 feishu-setup-guide.md               # ✨ 飞书完整配置指南
    │   └── 内容：
    │       • 创建飞书应用（图文）
    │       • 配置应用权限
    │       • 创建多维表格
    │       • 获取标识符
    │       • 环境变量配置
    │       • 常见问题解答
    │
    └── 🔖 quick-reference.md                  # ✨ 快速参考卡片
        └── 内容：
            • 快速开始 3 步走
            • 环境变量速查
            • 常用命令
            • 故障排查速查表
```

---

## 📊 文件统计

### 新增文件（7 个）

| 文件 | 大小 | 说明 |
|------|------|------|
| `save_to_feishu.py` | ~5 KB | 核心保存脚本 |
| `check_config.py` | ~8 KB | 配置检查工具 |
| `example_usage.py` | ~6 KB | 使用示例 |
| `setup.ps1` | ~7 KB | PowerShell 配置向导 |
| `setup.bat` | ~4 KB | 批处理配置向导 |
| `feishu-setup-guide.md` | ~12 KB | 完整配置指南 |
| `quick-reference.md` | ~4 KB | 快速参考卡 |

### 更新文件（1 个）

| 文件 | 变更 | 说明 |
|------|------|------|
| `feynman.md` | +60 行 | 添加飞书保存提示功能 |

### 文档文件（2 个）

| 文件 | 说明 |
|------|------|
| `README.md` | 项目总览、快速开始、完整使用指南 |
| `OPTIMIZATION_SUMMARY.md` | 优化总结、功能对比、使用场景 |

---

## 🎯 核心功能模块

### 1. 配置模块

```
setup.ps1 (Windows PowerShell)
    ↓
交互式输入配置信息
    ↓
设置环境变量（临时/永久）
    ↓
自动运行 check_config.py
    ↓
完成配置
```

### 2. 验证模块

```
check_config.py
    ↓
[1/5] 检查环境变量
    ↓
[2/5] 验证应用凭证
    ↓
[3/5] 检查应用权限
    ↓
[4/5] 检查表格字段
    ↓
[5/5] 测试写入操作
    ↓
生成诊断报告
```

### 3. 保存模块

```
save_to_feishu.py
    ↓
获取 access_token
    ↓
构建记录数据
    {
      "标题": "...",
      "内容": "...",
      "创建时间": timestamp
    }
    ↓
调用飞书 API
    ↓
返回结果
```

---

## 🔄 使用流程图

```
┌─────────────────────────────────────────────────────────────┐
│                     首次使用流程                             │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │ 1. 创建飞书应用  │
                    │   获取凭证信息    │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │ 2. 创建多维表格  │
                    │   配置字段       │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │ 3. 运行配置向导  │
                    │   setup.ps1      │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │ 4. 自动验证配置  │
                    │   check_config   │
                    └─────────┬────────┘
                              │
                ┌─────────────┴─────────────┐
                │                           │
                ▼                           ▼
        ✅ 配置成功                  ❌ 配置失败
        开始使用                    查看错误提示
                                    修复后重试

┌─────────────────────────────────────────────────────────────┐
│                     日常使用流程                             │
└─────────────────────────────────────────────────────────────┘
                              │
                ┌─────────────┼─────────────┐
                │             │             │
                ▼             ▼             ▼
        方式 1：Feynman  方式 2：命令行  方式 3：代码调用
                │             │             │
                ▼             ▼             ▼
        /feynman 概念    --test/--file   Python API
                │             │             │
                └─────────────┼─────────────┘
                              ▼
                    ┌──────────────────┐
                    │   保存到飞书      │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │ 在飞书中查看笔记  │
                    └──────────────────┘
```

---

## 🎨 使用场景矩阵

| 场景 | 推荐工具 | 命令 |
|------|---------|------|
| 🎓 学习新概念 | Feynman 命令 | `/feynman React Hooks` |
| 📝 保存研究笔记 | 命令行 | `--file research.md` |
| 🔄 批量导入 | Python 脚本 | `example_usage.py 4` |
| ⚡ 快速测试 | 命令行 | `--test` |
| 🔧 检查配置 | 验证工具 | `check_config.py` |
| ⚙️ 首次配置 | 配置向导 | `setup.ps1` |

---

## 🔗 文件依赖关系

```
setup.ps1
    │
    ├── 依赖 → Python 3.7+
    ├── 依赖 → requests 库
    └── 调用 → check_config.py
                    │
                    └── 使用 → 环境变量
                                   │
                                   └── 被使用 ← save_to_feishu.py
                                                      │
                                                      ├── 被调用 ← example_usage.py
                                                      └── 被调用 ← feynman.md
```

---

## 📦 依赖项

### Python 依赖

```
Python >= 3.7
└── requests >= 2.25.0
```

### 环境变量

```
FEISHU_APP_ID            (必需)
FEISHU_APP_SECRET        (必需)
FEISHU_BITABLE_APP_TOKEN (必需)
FEISHU_BITABLE_TABLE_ID  (必需)
```

### 飞书配置

```
应用权限:
├── bitable:app:readonly
└── bitable:app:readwrite

表格字段:
├── 标题 (单行文本)
├── 内容 (多行文本)
└── 创建时间 (日期)
```

---

## 🚀 快速导航

| 需求 | 查看文件 |
|------|---------|
| 💡 了解项目 | `README.md` |
| 🔧 配置飞书 | `references/feishu-setup-guide.md` |
| ⚡ 快速参考 | `references/quick-reference.md` |
| 📚 学习使用 | `scripts/example_usage.py` |
| 🐛 解决问题 | `OPTIMIZATION_SUMMARY.md` → 故障排查 |
| 🎯 开始配置 | `scripts/setup.ps1` |

---

## 📝 版本信息

```
项目名称: Feynman Skill (Enhanced)
版本号: v2.0
优化日期: 2026-01-22
总文件数: 12
总代码行: ~2000+
文档字数: ~15000+
```

---

**提示**：建议将此文档保存为书签，作为项目导航索引！ 🧭
